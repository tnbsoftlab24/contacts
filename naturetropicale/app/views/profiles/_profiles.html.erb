<ul class="nav nav-pills mt-4 mb-3" id="pills-tab" role="tablist">
  <li class="nav-item" role="presentation">
    <a class="nav-link active" id="pills-profile-tab" data-toggle="pill" href="#profile" role="tab" aria-controls="pills-profile" aria-selected="false">Profiles Validés (<%= @profiles_confirmed.count %>)</a>
  </li>
  <li class="nav-item" role="presentation">
    <a class="nav-link" id="pills-home-tab" data-toggle="pill" href="#home" role="tab" aria-controls="pills-home" aria-selected="true">Profiles en Attente de validation (<%= @profiles_unconfirmed.count %>)</a>
  </li>
  <li class="nav-item" role="presentation">
    <a class="nav-link" id="pills-home-tab" data-toggle="pill" href="#no_profile" role="tab" aria-controls="pills-home" aria-selected="true">Profiles non crées (<%= @profiles_uncreated.count %>)</a>
  </li>
  <li class="nav-item" role="presentation">
    <a class="nav-link" id="pills-suspended-tab" data-toggle="pill" href="#suspended" role="tab" aria-controls="pills-suspended" aria-selected="true">Profiles suspendu (<%= @profiles_suspended.count %>)</a>
  </li>
</ul>
<div class="tab-content" id="pills-tabContent">
  
  <div class="tab-pane fade show active" id="profile" role="tabpanel" aria-labelledby="pills-profile-tab">
    <%= render  partial:'profiles_confirmed' %>
    <%= will_paginate @profiles_confirmed, param_name: 'profile_page',:params => { :anchor => 'profile' }, list_classes: %w(pagination mt-4 justify-content-center) %>
  </div>
  <div class="tab-pane fade " id="home" role="tabpanel" aria-labelledby="pills-home-tab">
    <%= render partial:'profiles/profiles_unconfirmed'%>
    <%= will_paginate @profiles_unconfirmed, param_name: 'home_page',:params => { :anchor => 'home' }, list_classes: %w(pagination mt-4 justify-content-center) %>
  </div>
  <div class="tab-pane fade " id="no_profile" role="tabpanel" aria-labelledby="pills-no_profile-tab">
    <%= render partial:'profiles/profiles_uncreated'%>
    <%= will_paginate @profiles_uncreated, param_name: 'uncreated_page',:params => { :anchor => 'no_profile' }, list_classes: %w(bol pagination mt-4 justify-content-center) %>
  </div>
  <div class="tab-pane fade " id="suspended" role="tabpanel" aria-labelledby="pills-suspended-tab">
    <%= render partial:'profiles/profiles_suspended'%>
    <%= will_paginate @profiles_suspended, param_name: 'suspended_page',:params => { :anchor => 'suspended' }, list_classes: %w(bol pagination mt-4 justify-content-center) %>
  </div>
</div>


<script>
  // open tab on click
  $(function(){
    var hash = window.location.hash;
    hash && $('ul.nav a[href="' + hash + '"]').tab('show');

    $('.nav-tabs a').click(function (e) {
    $(this).tab('show');
    var scrollmem = $('body').scrollTop();
    window.location.hash = this.hash;
    $('html,body').scrollTop(scrollmem);
    });
  });
</script>